{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="page-heading">
    <div class="page-title">
        <h2>ORDER SUCCESSFUL</h2>
    </div>
</div>

<div class="main-container col1-layout wow bounceInUp animated">
    <div class="main">
        <div class="container" style="text-align: center; padding: 50px 0;">
            <div class="success-icon" style="font-size: 80px; color: #6c6; margin-bottom: 20px;">
                <i class="fa fa-check-circle"></i>
            </div>
            <h1 style="font-size: 36px;">Thank You for Your Order!</h1>
            <p style="font-size: 18px; color: #666; margin-bottom: 30px;">
                {% if order %}
                Your order <strong>#{{ order.id }}</strong> for <strong>${{ order.total_price }}</strong> has been
                received.<br>
                A confirmation email has been sent to {{ order.email }}.
                {% else %}
                Your order has been received and is being processed.<br>
                A representative from Harrier Car Store will contact you shortly to arrange the final details.
                {% endif %}
            </p>

            {% if order %}
            <div class="order-summary"
                style="max-width: 600px; margin: 0 auto 30px; text-align: left; background: #fff; padding: 20px; border: 1px solid #eee;">
                <h3>Order Summary</h3>
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <th style="padding: 10px; text-align: left;">Item</th>
                            <th style="padding: 10px; text-align: right;">Qty</th>
                            <th style="padding: 10px; text-align: right;">Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in order.items.all %}
                        <tr>
                            <td style="padding: 10px;">{{ item.accessory.title }}</td>
                            <td style="padding: 10px; text-align: right;">{{ item.quantity }}</td>
                            <td style="padding: 10px; text-align: right;">${{ item.price }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% endif %}

            <div class="success-info"
                style="max-width: 600px; margin: 0 auto; background: #f9f9f9; padding: 20px; border: 1px solid #eee; text-align: left;">
                <h3>Next Steps:</h3>
                <ul>
                    <li>Check your email for order details.</li>
                    <li>Prepare the necessary documents for car registration.</li>
                    <li>Visit our showroom or wait for our call to confirm payment.</li>
                </ul>
            </div>

            <div style="margin-top: 40px;">
                <a href="{% url 'car_inventory' %}" class="button btn-continue"
                    style="padding: 12px 25px;"><span>Continue Browsing</span></a>
                <a href="{% url 'dashboard' %}" class="button btn-cart"
                    style="padding: 12px 25px; margin-left: 10px;"><span>Go to Dashboard</span></a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
